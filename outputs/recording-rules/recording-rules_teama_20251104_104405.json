{
  "timestamp": "2025-11-04T10:44:05.331258",
  "service": "recording-rules",
  "team": "teama",
  "resources": [
    {
      "id": "01JMEEZRN2JNCSK9JQA2Z5ERF6",
      "groups": [
        {
          "name": "basicRecording.rules",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "namespace_pod_name_container_name:container_cpu_usage_seconds_total:sum_rate",
              "expr": "sum by (namespace, pod, container, source_cluster, datacenter) (\n          rate(container_cpu_usage_seconds_total{job=\"kubelet\", image!=\"\", container!=\"\"}[5m])\n          )\n",
              "lastEvalDurationMs": "635"
            }
          ],
          "lastEvalAt": "1762233158",
          "version": 17,
          "id": "01JMEEZRN4JSKTRH26B5GE9FBM"
        },
        {
          "name": "kube-apiserver.rules",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "cluster_quantile:apiserver_request_duration_seconds:histogram_quantile",
              "expr": "histogram_quantile(0.99, sum(rate(apiserver_request_duration_seconds_bucket{job=\"apiserver\"}[5m])) without(instance, pod))\n",
              "labels": {
                "quantile": "0.99"
              },
              "lastEvalDurationMs": "2661"
            },
            {
              "record": "cluster_quantile:apiserver_request_duration_seconds:histogram_quantile",
              "expr": "histogram_quantile(0.9, sum(rate(apiserver_request_duration_seconds_bucket{job=\"apiserver\"}[5m])) without(instance, pod))\n",
              "labels": {
                "quantile": "0.9"
              },
              "lastEvalDurationMs": "3027"
            },
            {
              "record": "cluster_quantile:apiserver_request_duration_seconds:histogram_quantile",
              "expr": "histogram_quantile(0.5, sum(rate(apiserver_request_duration_seconds_bucket{job=\"apiserver\"}[5m])) without(instance, pod))\n",
              "labels": {
                "quantile": "0.5"
              },
              "lastEvalDurationMs": "3259"
            }
          ],
          "lastEvalAt": "1762233158",
          "version": 17,
          "id": "01JMEEZRN65FXPRG4WEHDKX3EG"
        },
        {
          "name": "kube-prometheus-node-recording.rules",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "instance:node_cpu:rate:sum",
              "expr": "sum(rate(node_cpu_seconds_total{mode!=\"idle\",mode!=\"iowait\"}[3m])) BY (instance)",
              "lastEvalDurationMs": "1304"
            },
            {
              "record": "instance:node_filesystem_usage:sum",
              "expr": "sum((node_filesystem_size_bytes{mountpoint=\"/\"} - node_filesystem_free_bytes{mountpoint=\"/\"})) BY (instance)",
              "lastEvalDurationMs": "60"
            },
            {
              "record": "instance:node_network_receive_bytes:rate:sum",
              "expr": "sum(rate(node_network_receive_bytes_total[3m])) BY (instance)",
              "lastEvalDurationMs": "315"
            },
            {
              "record": "instance:node_network_transmit_bytes:rate:sum",
              "expr": "sum(rate(node_network_transmit_bytes_total[3m])) BY (instance)",
              "lastEvalDurationMs": "353"
            },
            {
              "record": "instance:node_cpu:ratio",
              "expr": "sum(rate(node_cpu_seconds_total{mode!=\"idle\",mode!=\"iowait\"}[5m])) WITHOUT (cpu, mode) / ON(instance) GROUP_LEFT() count(sum(node_cpu_seconds_total) BY (instance, cpu)) BY (instance)",
              "lastEvalDurationMs": "2926"
            },
            {
              "record": "cluster:node_cpu:sum_rate5m",
              "expr": "sum(rate(node_cpu_seconds_total{mode!=\"idle\",mode!=\"iowait\"}[5m]))",
              "lastEvalDurationMs": "1645"
            },
            {
              "record": "cluster:node_cpu:ratio",
              "expr": "cluster:node_cpu_seconds_total:rate5m / count(sum(node_cpu_seconds_total) BY (instance, cpu))",
              "lastEvalDurationMs": "2157"
            }
          ],
          "lastEvalAt": "1762233158",
          "version": 17,
          "id": "01JMEEZRN7VTXP4V96W14RNQZ1"
        },
        {
          "name": "node-exporter.rules",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "instance:node_num_cpu:sum",
              "expr": "count without (cpu) (count without (mode) (node_cpu_seconds_total{job=\"node-exporter\"}))",
              "lastEvalDurationMs": "2153"
            },
            {
              "record": "instance:node_cpu_utilisation:rate1m",
              "expr": "1 - avg without (cpu, mode) (rate(node_cpu_seconds_total{job=\"node-exporter\", mode=\"idle\"}[1m]))",
              "lastEvalDurationMs": "221"
            },
            {
              "record": "instance:node_load1_per_cpu:ratio",
              "expr": "(node_load1{job=\"node-exporter\"} / instance:node_num_cpu:sum{job=\"node-exporter\"})",
              "lastEvalDurationMs": "413"
            },
            {
              "record": "instance:node_memory_utilisation:ratio",
              "expr": "1 - (node_memory_MemAvailable_bytes{job=\"node-exporter\"} / node_memory_MemTotal_bytes{job=\"node-exporter\"})",
              "lastEvalDurationMs": "252"
            },
            {
              "record": "instance:node_memory_swap_io_pages:rate1m",
              "expr": "(rate(node_vmstat_pgpgin{job=\"node-exporter\"}[1m]) + rate(node_vmstat_pgpgout{job=\"node-exporter\"}[1m]))",
              "lastEvalDurationMs": "38"
            },
            {
              "record": "instance_device:node_disk_io_time_seconds:rate1m",
              "expr": "rate(node_disk_io_time_seconds_total{job=\"node-exporter\", device=~\"nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+\"}[1m])",
              "lastEvalDurationMs": "49"
            },
            {
              "record": "instance_device:node_disk_io_time_weighted_seconds:rate1m",
              "expr": "rate(node_disk_io_time_weighted_seconds_total{job=\"node-exporter\", device=~\"nvme.+|rbd.+|sd.+|vd.+|xvd.+|dm-.+\"}[1m])",
              "lastEvalDurationMs": "192"
            },
            {
              "record": "instance:node_network_receive_bytes_excluding_lo:rate1m",
              "expr": "sum without (device) (rate(node_network_receive_bytes_total{job=\"node-exporter\", device!=\"lo\"}[1m]))",
              "lastEvalDurationMs": "141"
            },
            {
              "record": "instance:node_network_transmit_bytes_excluding_lo:rate1m",
              "expr": "sum without (device) (rate(node_network_transmit_bytes_total{job=\"node-exporter\", device!=\"lo\"}[1m]))",
              "lastEvalDurationMs": "87"
            },
            {
              "record": "instance:node_network_receive_drop_excluding_lo:rate1m",
              "expr": "sum without (device) (rate(node_network_receive_drop_total{job=\"node-exporter\", device!=\"lo\"}[1m]))",
              "lastEvalDurationMs": "148"
            },
            {
              "record": "instance:node_network_transmit_drop_excluding_lo:rate1m",
              "expr": "sum without (device) (rate(node_network_transmit_drop_total{job=\"node-exporter\", device!=\"lo\"}[1m]))",
              "lastEvalDurationMs": "340"
            }
          ],
          "lastEvalAt": "1762233158",
          "version": 17,
          "id": "01JMEEZRN5G1AXBK0RQD671SDB"
        },
        {
          "name": "node.rules",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": ":kube_pod_info_node_count:",
              "expr": "sum(min(kube_pod_info) by (node))",
              "lastEvalDurationMs": "129"
            },
            {
              "record": "node_namespace_pod:kube_pod_info:",
              "expr": "max(label_replace(kube_pod_info{job=\"kube-state-metrics\"}, \"pod\", \"$1\", \"pod\", \"(.*)\")) by (node, namespace, pod)\n",
              "lastEvalDurationMs": "195"
            },
            {
              "record": "node:node_num_cpu:sum",
              "expr": "count by (node) (sum by (node, cpu) (\n  node_cpu_seconds_total{job=\"node-exporter\"}\n* on (namespace, pod) group_left(node)\n  node_namespace_pod:kube_pod_info:\n))\n",
              "lastEvalDurationMs": "157"
            },
            {
              "record": ":node_memory_MemFreeCachedBuffers_bytes:sum",
              "expr": "sum(node_memory_MemFree_bytes{job=\"node-exporter\"} + node_memory_Cached_bytes{job=\"node-exporter\"} + node_memory_Buffers_bytes{job=\"node-exporter\"})\n",
              "lastEvalDurationMs": "33"
            }
          ],
          "lastEvalAt": "1762206878",
          "version": 17,
          "id": "01JMEEZRN75ZSTJKCSCEFA5B61"
        },
        {
          "name": "k8s.rules-1",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "namespace:kube_pod_container_resource_requests_memory_bytes:sum",
              "expr": "sum by (namespace, label_name, source_cluster, datacenter) (\n  sum(kube_pod_container_resource_requests_memory_bytes{job=\"kube-state-metrics\"} * on (endpoint, instance, job, namespace, pod, service, datacenter, service_instance_id, k8s_cluster_name) group_left(phase) (kube_pod_status_phase{phase=~\"^(Pending|Running)$\"} == 1)) by (namespace, pod, k8s_cluster_name)\n  * on (namespace, pod, k8s_cluster_name)\n  group_left(label_name) kube_pod_labels{job=\"kube-state-metrics\"}\n)",
              "lastEvalDurationMs": "221"
            }
          ],
          "lastEvalAt": "1762207103",
          "version": 8,
          "id": "01JWFSGHZ96D6SMYA7457WYPCE"
        },
        {
          "name": "k8s.rules-2",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "namespace:container_cpu_usage_seconds_total:sum_rate",
              "expr": "sum(rate(container_cpu_usage_seconds_total{job=\"kubelet\", image!=\"\", container!=\"POD\"}[5m])) by (namespace, source_cluster, datacenter)",
              "lastEvalDurationMs": "294"
            }
          ],
          "lastEvalAt": "1762233201",
          "version": 6,
          "id": "01JWFTK9EHW5VAWSFZJZHZ2ST8"
        },
        {
          "name": "k8s.rules-3",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "namespace_pod_container:container_cpu_usage_seconds_total:sum_rate",
              "expr": "sum by (namespace, pod, container, source_cluster, datacenter) (\n          rate(container_cpu_usage_seconds_total{job=\"kubelet\", image!=\"\", container!=\"POD\"}[5m])\n        )\n",
              "lastEvalDurationMs": "856"
            }
          ],
          "lastEvalAt": "1762233195",
          "version": 5,
          "id": "01JWFTMY6X6S2J4RAE2QVNXZ9F"
        },
        {
          "name": "k8s.rules-4",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "namespace:container_memory_usage_bytes:sum",
              "expr": "sum(container_memory_usage_bytes{job=\"kubelet\", image!=\"\", container!=\"POD\"}) by (namespace, source_cluster, datacenter)",
              "lastEvalDurationMs": "250"
            }
          ],
          "lastEvalAt": "1762233175",
          "version": 4,
          "id": "01JWFTP5R63TQ6AWRHZGKV7VGV"
        },
        {
          "name": "k8s.rules-5",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "mixin_pod_workload",
              "expr": "sum(\n  label_replace(\n    label_replace(\n      kube_pod_owner{job=\"kube-state-metrics\", owner_kind=\"ReplicaSet\"},\n      \"replicaset\", \"$1\", \"owner_name\", \"(.*)\"\n    ) * on(replicaset, namespace, source_cluster, datacenter) group_left(owner_name) kube_replicaset_owner{job=\"kube-state-metrics\"},\n    \"workload\", \"$1\", \"owner_name\", \"(.*)\"\n  )\n) by (namespace, workload, pod, source_cluster, datacenter)",
              "labels": {
                "workload_type": "deployment"
              },
              "lastEvalDurationMs": "308"
            }
          ],
          "lastEvalAt": "1762233171",
          "version": 3,
          "id": "01JWFTQW8NENXA3VAGDYC6ZYMT"
        }
      ],
      "name": "Hotstar_recording_rule.yaml"
    },
    {
      "id": "01K7KS21V38PVN5A3D39AXMSMM",
      "groups": [
        {
          "name": "cx_slo_hourly_status",
          "interval": 3600,
          "limit": "0",
          "rules": [
            {
              "record": "cx:slo:statuses:hourly",
              "expr": "count_values(\"status\", ceil(clamp(1- ((((sum_over_time(cx:slo:request:total_events{slo_id=\"7681fe9d-03f4-4d8b-957b-23135f2a597f\",revision=\"1\"}[7d]) - sum_over_time(cx:slo:request:good_events{slo_id=\"7681fe9d-03f4-4d8b-957b-23135f2a597f\",revision=\"1\"}[7d])) / sum_over_time(cx:slo:request:total_events{slo_id=\"7681fe9d-03f4-4d8b-957b-23135f2a597f\",revision=\"1\"}[7d])) or on() vector(0))) / (1-(99/100)) , 0, 1) * 4))",
              "labels": {
                "revision": "1",
                "slo_id": "7681fe9d-03f4-4d8b-957b-23135f2a597f",
                "slo_time_window": "7d"
              },
              "lastEvalDurationMs": "361"
            }
          ],
          "lastEvalAt": "1762233065",
          "id": "01K7KS21V5ACEJGNKGBVZJ11D0"
        },
        {
          "name": "cx_slo_request_based",
          "interval": 60,
          "limit": "0",
          "rules": [
            {
              "record": "cx:slo:request:good_events",
              "expr": "sum(amazonaws_com_AWS_ELB_HTTPCode_Backend_2XX_count{LoadBalancerName=~\".*elb.*\"}) by (LoadBalancerName)",
              "labels": {
                "revision": "1",
                "slo_id": "7681fe9d-03f4-4d8b-957b-23135f2a597f",
                "slo_time_window": "7d"
              },
              "lastEvalDurationMs": "4"
            },
            {
              "record": "cx:slo:request:total_events",
              "expr": "sum(amazonaws_com_AWS_ELB_RequestCount_count{LoadBalancerName=~\".*elb.*\"}) by (LoadBalancerName)",
              "labels": {
                "revision": "1",
                "slo_id": "7681fe9d-03f4-4d8b-957b-23135f2a597f",
                "slo_time_window": "7d"
              },
              "lastEvalDurationMs": "6"
            },
            {
              "record": "cx:slo:target",
              "expr": "99",
              "labels": {
                "revision": "1",
                "slo_id": "7681fe9d-03f4-4d8b-957b-23135f2a597f",
                "slo_time_window": "7d"
              },
              "lastEvalDurationMs": "1"
            }
          ],
          "lastEvalAt": "1762233185",
          "id": "01K7KS21V4XEHAYXE8AY2QBYP6"
        }
      ],
      "name": "cx:slo:7681fe9d-03f4-4d8b-957b-23135f2a597f"
    }
  ],
  "count": 2,
  "resource_identifiers": [
    "Hotstar_recording_rule.yaml",
    "cx:slo:7681fe9d-03f4-4d8b-957b-23135f2a597f"
  ]
}