{
  "dashboard": {
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": null,
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "type": "dashboard"
        }
      ]
    },
    "description": "Provides drill down information for a given endpoint",
    "editable": true,
    "gnetId": null,
    "graphTooltip": 1,
    "iteration": 1736773076515,
    "links": [],
    "maxDataPoints": 1360,
    "panels": [
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 37,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "F",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "G",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "H",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "J",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "N",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "O",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "P",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "2m",
              "handler": 1,
              "message": "5xx - ${LoadBalancer}",
              "name": "5xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "5XX reported by the ELB/ALB\nfor CORE, HB, CT\n\n- 5XX spikes up usually during deployment. \n- cause: verify that the target group is associated correctly during TF apply - deployment. ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 1
            },
            "hiddenSeries": false,
            "id": 125,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE_ALB",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE_ALB",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB_ALB",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT_ALB",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP_ALB",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB_ALB",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT_ALB",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP_ALB",
                "refId": "H"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE_ELB",
                "refId": "I"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE_ELB",
                "refId": "J"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB_ELB",
                "refId": "K"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT_ELB",
                "refId": "L"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP_ELB",
                "refId": "M"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB_ELB",
                "refId": "N"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT_ELB",
                "refId": "O"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP_ELB",
                "refId": "P"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 33000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "5xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "E",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "I",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "L",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "K",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "M",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "30m",
              "handler": 1,
              "message": "4xx - ${LoadBalancer}",
              "name": "4xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 4xx reported by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 1
            },
            "hiddenSeries": false,
            "id": 129,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE_ALB",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE_ALB",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB_ALB",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT_ALB",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP_ALB",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB_ALB",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT_ALB",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP_ALB",
                "refId": "H"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE_ELB",
                "refId": "I"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE_ELB",
                "refId": "J"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB_ELB",
                "refId": "K"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT_ELB",
                "refId": "L"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP_ELB",
                "refId": "M"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB_ELB",
                "refId": "N"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT_ELB",
                "refId": "O"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP_ELB",
                "refId": "P"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 60000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "4xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 2xx reported by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 8
            },
            "hiddenSeries": false,
            "id": 13,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) ",
                "expression": "",
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "CORE",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "expression": "",
                "hide": false,
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "HB",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "B",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "expression": "",
                "hide": false,
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "CT",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "C",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) ",
                "expression": "",
                "hide": false,
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "CP",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "D",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "2xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "G",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "H",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      50
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "F",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "5m",
              "handler": 1,
              "message": "CPU alert - ${application}",
              "name": "CPU alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {
                "unit": "percent"
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 8
            },
            "hiddenSeries": false,
            "id": 121,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-core\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "queryType": "randomWalk",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-core\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE",
                "queryType": "randomWalk",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-hb\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "queryType": "randomWalk",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-ct\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "queryType": "randomWalk",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-cp\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP",
                "queryType": "randomWalk",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-hb\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB",
                "queryType": "randomWalk",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-ct\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT",
                "queryType": "randomWalk",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "max(cpu_usage_user{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-cp\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP",
                "queryType": "randomWalk",
                "refId": "H"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 50,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CPU Utilzation",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "E",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "F",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "G",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "1m",
              "handler": 1,
              "message": "Circuit State alert - ${application}",
              "name": "Circuit State alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 16
            },
            "hiddenSeries": false,
            "id": 93,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.core.circuitOpen_value{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.core_cc.circuitOpen_value{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE_CC",
                "refId": "H"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.gql.produce.circuitOpen_value{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "GQL",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.ct.circuitOpen_value{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.hb.circuitOpen_value{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.core.circuitOpen_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.ct.circuitOpen_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.hb.circuitOpen_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "G"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Circuit State",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "E",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "CloudWatch Latency alert - ${dimension_LoadBalancer}",
              "name": "CloudWatch Latency alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Latency as monitored by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 16
            },
            "hiddenSeries": false,
            "id": 130,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "max",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/Max/",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-alb.*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-alb.*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-hb.*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-(alb-ct|ct).*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-cp.*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-hb.*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-(alb-ct|ct).*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "avg(aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-cp.*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP",
                "refId": "H"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 500,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CloudWatch Latency",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "P0",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 1
        },
        "id": 124,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "2m",
              "handler": 1,
              "message": "Backend 5xx errors above threshold - ${LoadBalancer}",
              "name": "5xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "5XX reported by the ALB\nfor CORE\n\n- 5XX spikes up usually during deployment. \n- cause: verify that the target group is associated correctly during TF apply - deployment. ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 2
            },
            "hiddenSeries": false,
            "id": 21,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 33000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "5xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "30m",
              "handler": 1,
              "message": "Increase in 4xx for Bifrost API - ${LoadBalancer}",
              "name": "4xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 4xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 2
            },
            "hiddenSeries": false,
            "id": 14,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 60000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "4xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 2xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "hiddenSeries": false,
            "id": 126,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-alb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(LoadBalancer)",
                "expression": "",
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "2xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "Bifrost APSE Cloudwatch Latency increased - ${dimension_LoadBalancer}",
              "name": "CloudWatch Latency alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Latency as monitored by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "hiddenSeries": false,
            "id": 47,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/Max/",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-alb.*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-alb.*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 500,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CloudWatch Latency",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 16
            },
            "hiddenSeries": false,
            "id": 70,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCount_sum{LoadBalancer=~\"app/bifrost-alb-.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerShard",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 16
            },
            "hiddenSeries": false,
            "id": 58,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCountPerTarget_sum{LoadBalancer=~\"app/bifrost-alb-.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=~\".*targetgroup/bifrost.*\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by(TargetGroup)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{TargetGroup}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerTarget",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 24
            },
            "hiddenSeries": false,
            "id": 43,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_HealthyHostCount{LoadBalancer=~\"app/bifrost-alb-.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by (LoadBalancer)",
                "hide": false,
                "instant": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": "1m",
            "title": "Healthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0",
              "frequency": "30m",
              "handler": 1,
              "message": "Unhealthy host count alert - ${LoadBalancer}",
              "name": "Unhealthy Host Count alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 24
            },
            "hiddenSeries": false,
            "id": 59,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-alb-.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",LoadBalancer!~\"^app/bifrost-alb-ct.*\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-alb-.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Unhealthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      200000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      1000000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "5m",
              "handler": 1,
              "message": "High Latency on Bifrost API-APSE, verify if all hosts are healthy - ${application}",
              "name": "API Latency Percentile (99) alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 32
            },
            "hiddenSeries": false,
            "id": 87,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "max",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=\"knol-bifrost-core\" ,env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-core\" }) by (handler)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1\",shard_name=\"bifrost-core\" }) by (handler,region)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ handler }}-{{ region }}.p99",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\",region=~\"eu-west-1\",shard_name=\"bifrost-core\" }) by (handler,region)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ handler }}-{{ region }}.p99",
                "refId": "C"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 200000000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "API Latency Percentile (99)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "P0 CORE",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 2
        },
        "id": 133,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "2m",
              "handler": 1,
              "message": "Backend 5xx errors above threshold - ${LoadBalancer}",
              "name": "5xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "5XX reported by the ALB\nfor HB\n\n- 5XX spikes up usually during deployment. \n- cause: verify that the target group is associated correctly during TF apply - deployment. ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 3
            },
            "hiddenSeries": false,
            "id": 131,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 33000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "5xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "30m",
              "handler": 1,
              "message": "Increase in 4xx for Bifrost API - ${LoadBalancer}",
              "name": "4xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 4xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 3
            },
            "hiddenSeries": false,
            "id": 135,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 60000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "4xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 2xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 134,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "expression": "",
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "2xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "Bifrost APSE Cloudwatch Latency increased. - ${dimension_LoadBalancer}",
              "name": "CloudWatch Latency alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Latency as monitored by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 136,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/Max/",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-hb.*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"}",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-hb.*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"}",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 500,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CloudWatch Latency",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "hiddenSeries": false,
            "id": 137,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCount_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerShard",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "hiddenSeries": false,
            "id": 156,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCountPerTarget_sum{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=~\".*targetgroup/bifrost.*\"}) by(TargetGroup)",
                "interval": "60",
                "legendFormat": "{{TargetGroup}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerTarget",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "hiddenSeries": false,
            "id": 139,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_HealthyHostCount{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": "1m",
            "title": "Healthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0",
              "frequency": "30m",
              "handler": 1,
              "message": "Unhealthy Host Count alert - ${LoadBalancer}",
              "name": "Unhealthy Host Count alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "hiddenSeries": false,
            "id": 161,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-hb.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Unhealthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      200000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "5m",
              "handler": 1,
              "message": "High Latency on Bifrost API-APSE, verify if all hosts are healthy ${application}",
              "name": "API Latency Percentile (99) alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 33
            },
            "hiddenSeries": false,
            "id": 141,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": false,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=\"knol-bifrost-core\" ,env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-hb\" }) by (handler)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-hb\" }) by (handler)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 200000000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "API Latency Percentile (99)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "P0 HB",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 3
        },
        "id": 145,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "2m",
              "handler": 1,
              "message": "Backend 5xx errors above threshold - ${LoadBalancer}",
              "name": "5xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "5XX reported by the ALB\nfor CT\n\n- 5XX spikes up usually during deployment. \n- cause: verify that the target group is associated correctly during TF apply - deployment. ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 4
            },
            "hiddenSeries": false,
            "id": 146,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 33000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "5xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "30m",
              "handler": 1,
              "message": "Increase in 4xx for Bifrost API - ${LoadBalancer}",
              "name": "4xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 4xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 4
            },
            "hiddenSeries": false,
            "id": 151,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 60000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "4xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 2xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 11
            },
            "hiddenSeries": false,
            "id": 148,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "expression": "",
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "2xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "Bifrost APSE Cloudwatch Latency increased. - ${dimension_LoadBalancer}",
              "name": "CloudWatch Latency alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Latency as monitored by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 11
            },
            "hiddenSeries": false,
            "id": 152,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/Max/",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-(alb-ct|ct).*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"}",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-(alb-ct|ct).*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"}",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 500,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CloudWatch Latency",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 18
            },
            "hiddenSeries": false,
            "id": 154,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCount_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerShard",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 18
            },
            "hiddenSeries": false,
            "id": 138,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCountPerTarget_sum{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=~\".*targetgroup/bifrost.*\"}) by(TargetGroup)",
                "interval": "60",
                "legendFormat": "{{TargetGroup}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerTarget",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 26
            },
            "hiddenSeries": false,
            "id": 158,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_HealthyHostCount{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": "1m",
            "title": "Healthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0",
              "frequency": "30m",
              "handler": 1,
              "message": "Unhealthy Host Count alert - ${LoadBalancer}",
              "name": "Unhealthy Host Count alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 26
            },
            "hiddenSeries": false,
            "id": 140,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-(alb-ct|ct).*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Unhealthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      200000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "5m",
              "handler": 1,
              "message": "High Latency on Bifrost API-APSE, verify if all hosts are healthy ${application}",
              "name": "API Latency Percentile (99) alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 34
            },
            "hiddenSeries": false,
            "id": 162,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": false,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=\"knol-bifrost-core\" ,env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-ct\" }) by (handler)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-ct\" }) by (handler)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 200000000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "API Latency Percentile (99)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "P0 CT",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 4
        },
        "id": 143,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      33000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "2m",
              "handler": 1,
              "message": "Backend 5xx errors above threshold for ${LoadBalancer}",
              "name": "5xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "5XX reported by the ALB\nfor CP\n\n- 5XX spikes up usually during deployment. \n- cause: verify that the target group is associated correctly during TF apply - deployment. ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 5
            },
            "hiddenSeries": false,
            "id": 147,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_5XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 33000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "5xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      60000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "10m",
              "frequency": "30m",
              "handler": 1,
              "message": "Increase in 4xx for Bifrost API - ${LoadBalancer}",
              "name": "4xx alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 4xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 5
            },
            "hiddenSeries": false,
            "id": 150,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ALB_{{LoadBalancer}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_ELB_4XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "ELB_{{LoadBalancer}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 60000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "4xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 2xx reported by the ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 12
            },
            "hiddenSeries": false,
            "id": 149,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_HTTPCode_Target_2XX_Count_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "expression": "",
                "id": "",
                "instant": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "2xx",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      500
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "Bifrost APSE Cloudwatch Latency increased - ${dimension_LoadBalancer}",
              "name": "CloudWatch Latency alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Latency as monitored by the ELB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 12
            },
            "hiddenSeries": false,
            "id": 153,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "/Max/",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer=~ \"app/bifrost-cp.*\" , region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"}",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "aws_alb_target_response_time_average{dimension_LoadBalancer =~ \"app/bifrost-cp.*\",region=\"ap-southeast-1\", dimension_AvailabilityZone=\"\", dimension_TargetGroup=\"\"}",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{dimension_LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 500,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "CloudWatch Latency",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 155,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCount_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=\"\"}) by(LoadBalancer)",
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerShard",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "description": "Backend 5xx reported by the ELB/ALB",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 157,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(amazonaws_com_AWS_ApplicationELB_RequestCountPerTarget_sum{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\",TargetGroup=~\".*targetgroup/bifrost.*\"}) by(TargetGroup)",
                "interval": "60",
                "legendFormat": "{{TargetGroup}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "RequestCountPerTarget",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "transparent": true,
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 27
            },
            "hiddenSeries": false,
            "id": 159,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_HealthyHostCount{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": "1m",
            "title": "Healthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0",
              "frequency": "30m",
              "handler": 1,
              "message": "Unhealthy Host Count alert - ${LoadBalancer}",
              "name": "Unhealthy Host Count alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": {
              "type": "prometheus",
              "uid": "-FPV4La7z"
            },
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 27
            },
            "hiddenSeries": false,
            "id": 160,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": true,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=\"ap-southeast-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(amazonaws_com_AWS_ApplicationELB_UnHealthyHostCount{LoadBalancer=~\"app/bifrost-cp.*\",cloud_region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",AvailabilityZone=\"\"}) by (LoadBalancer)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{LoadBalancer}}",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Unhealthy Host Count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "none",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      200000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "5m",
              "handler": 1,
              "message": "High Latency on Bifrost API-APSE, verify if all hosts are healthy - ${application}",
              "name": "API Latency Percentile (99) alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 35
            },
            "hiddenSeries": false,
            "id": 163,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": false,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=\"knol-bifrost-core\" ,env=\"$env\",region=\"ap-southeast-1\",shard_name=\"bifrost-cp\" }) by (handler)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-cp\" }) by (handler)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 200000000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "API Latency Percentile (99)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "P0 CP",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 5
        },
        "id": 128,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0m",
              "frequency": "4h",
              "handler": 1,
              "message": "panic kafka for bifrost is on for ${application}",
              "name": "Panic Mode alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "panic - 0 - Panic off (writes to kafka)\npanic - 1 - Panic on (write to disk)\npanic - 2 - Ultimate Panic (drop events, data loss)",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 6
            },
            "hiddenSeries": false,
            "id": 67,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.broker.triggered_value{application=\"knol-bifrost-core\" , env = \"$env\", region = \"ap-southeast-1\"}) by (broker)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ broker }}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.topic.triggered_value{application=\"knol-bifrost-core\" , env = \"$env\", region = \"ap-southeast-1\"}) by (topic)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ topic }}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.broker.triggered_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"}) by (broker)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ broker }}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.topic.triggered_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",topic!~\"in.knol.analytics.watch_tab_viewed.raw|in.knol.analytics.watch_tab_interacted.raw|in.knol.analytics.skipped_video.raw|in.knol.analytics.milestone_viewed.raw|in.knol.analytics.logged_out.raw|in.knol.analytics.exit_search.raw|in.knol.analytics.erased_search.raw|in.knol.analytics.clicked_utility_widget.raw|in.knol.analytics.change_volume.raw|in.knol.analytics.change_brightness.raw\"}) by (topic)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ topic }}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Panic Mode - Kafka",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "Alert Query",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0m",
              "frequency": "15m",
              "handler": 1,
              "message": "Panic On for Hearbeat on Bifrost for ${application}",
              "name": "Panic Mode - HB alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "panic - 0 - Panic off (HB time period 60s)\npanic - 1 - Panic on (HB time period 120s))\npanic - 2 - Ultimate Panic (drop events, data loss)",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 6
            },
            "hiddenSeries": false,
            "id": 164,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.heartbeat.triggered_value{application=\"knol-bifrost-core\" , env = \"$env\", region = \"ap-southeast-1\"}) by (host)",
                "hide": false,
                "interval": "60",
                "legendFormat": "status",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.heartbeat.triggered_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"}) by (host)",
                "hide": true,
                "interval": "60",
                "legendFormat": "",
                "refId": "Alert Query"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.heartbeat_period_time_seconds_value) by (host)",
                "hide": false,
                "interval": "60",
                "legendFormat": "heartbeat_period_time_seconds",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Panic Mode - HB",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "Alert query",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0m",
              "frequency": "15m",
              "handler": 1,
              "message": "Panic On for Events on Heartbeat - ${application}",
              "name": "Panic Mode - Events alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "panic - 0 - Panic off \npanic - 1 - Panic on ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 13
            },
            "hiddenSeries": false,
            "id": 165,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.events.triggered_value{application=\"knol-bifrost-core\" , env = \"$env\", region = \"ap-southeast-1\"}) by (host)",
                "hide": false,
                "interval": "60",
                "legendFormat": "status",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.panic_mode.events.triggered_value{application=~\"knol-bifrost-core\" , env=~\"load\", region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"}) by (host)",
                "hide": true,
                "interval": "60",
                "legendFormat": "",
                "refId": "Alert query"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Panic Mode - Events",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "This shows the configs set for events panic to be also sent as response Bifrost panic header",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 13
            },
            "hiddenSeries": false,
            "id": 166,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.event_batch_buffer_limit_value) by (host)",
                "hide": false,
                "interval": "60",
                "legendFormat": "batch_buffer_limit",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.event_batch_frequency.max_value) by (host)",
                "hide": false,
                "interval": "60",
                "legendFormat": "event_batch_frequency.max",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.event_batch_frequency.min_value) by (host)",
                "hide": false,
                "interval": "60",
                "legendFormat": "event_batch_frequency.min",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Panic Mode Configs - Events",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "Panic",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 6
        },
        "id": 118,
        "maxDataPoints": 1360,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 110,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_recv{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-core\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_recv{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-hb\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_recv{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-ct\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_recv{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-cp\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network usage receive",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 7
            },
            "hiddenSeries": false,
            "id": 122,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_sent{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-core\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_sent{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-hb\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_sent{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-ct\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(net_bytes_sent{env=\"$env\",region=\"ap-southeast-1\", shard_name=\"bifrost-cp\" })) [10m] ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Network usage sent",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "Bps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 15
            },
            "hiddenSeries": false,
            "id": 113,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(net_tcp_activeopens{application=\"knol-bifrost-core\" ,env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-core\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE.tcp_activeopens",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_passiveopens{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-core\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE.tcp_passiveopens",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_outrsts{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-core\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE.tcp_outrsts",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_established{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-core\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE.tcp_established",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_activeopens{application=\"knol-bifrost-core\" ,env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-hb\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.tcp_activeopens",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_activeopens{application=\"knol-bifrost-core\" ,env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-ct\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.tcp_activeopens",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_activeopens{application=\"knol-bifrost-core\" ,env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-cp\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP.tcp_activeopens",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_passiveopens{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-hb\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.tcp_passiveopens",
                "refId": "H"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_passiveopens{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-ct\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.tcp_passiveopens",
                "refId": "I"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_passiveopens{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-cp\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP.tcp_passiveopens",
                "refId": "J"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_outrsts{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-hb\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.tcp_outrsts",
                "refId": "K"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_outrsts{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-ct\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.tcp_outrsts",
                "refId": "L"
              },
              {
                "exemplar": true,
                "expr": "avg(net_tcp_outrsts{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-cp\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP.tcp_outrsts",
                "refId": "M"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_established{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-hb\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.tcp_established",
                "refId": "N"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_established{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-ct\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.tcp_established",
                "refId": "O"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_established{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-cp\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP.tcp_established",
                "refId": "P"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "TCP handshake",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      70
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      70
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "H",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      70
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "G",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      70
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "F",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "0",
              "frequency": "1m",
              "handler": 1,
              "message": "Disk Used Percentage alert in ${application}",
              "name": "Disk Used Percentage alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {
                "unit": "percent"
              },
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 15
            },
            "hiddenSeries": false,
            "id": 120,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-core\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "queryType": "randomWalk",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-core\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CORE",
                "queryType": "randomWalk",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-hb\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "queryType": "randomWalk",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-ct\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "queryType": "randomWalk",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=\"$env\", region=\"ap-southeast-1\",shard_name=\"bifrost-cp\"}) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP",
                "queryType": "randomWalk",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-hb\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "HB",
                "queryType": "randomWalk",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-ct\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CT",
                "queryType": "randomWalk",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "max(disk_used_percent{application=\"knol-bifrost-core\", env=~\"load\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\",shard_name=\"bifrost-cp\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "CP",
                "queryType": "randomWalk",
                "refId": "H"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 70,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Disk Used Percentage",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "percent",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 2,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 23
            },
            "hiddenSeries": false,
            "id": 108,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(mem_available{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\" ,shard_name=\"bifrost-core\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "max(mem_available{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\" ,shard_name=\"bifrost-hb\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(mem_available{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\" ,shard_name=\"bifrost-ct\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "max(mem_available{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\" ,shard_name=\"bifrost-cp\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CP",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Memory Available",
            "tooltip": {
              "shared": true,
              "sort": 1,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "decbytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 23
            },
            "hiddenSeries": false,
            "id": 112,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 2,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_close{application=\"knol-bifrost-core\" , env=\"$env\" , region=\"ap-southeast-1\"}) by (shard_name) ",
                "interval": "60",
                "legendFormat": "netstat_tcp_close.{{ shard_name }}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_close_wait{application=\"knol-bifrost-core\", env=\"$env\" , region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_close_wait.{{ shard_name }}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_closing{application=\"knol-bifrost-core\", env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_closing.{{ shard_name }}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_established{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_established.{{ shard_name }}",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_fin_wait1{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_fin_wait1.{{ shard_name }}",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_fin_wait2{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_fin_wait2.{{ shard_name }}",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_syn_sent{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_syn_sent.{{ shard_name }}",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_syn_recv{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_syn_recv.{{ shard_name }}",
                "refId": "H"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_time_wait{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_time_wait.{{ shard_name }}",
                "refId": "I"
              },
              {
                "exemplar": true,
                "expr": "avg(netstat_tcp_last_ack{application=\"knol-bifrost-core\" , env=\"$env\", region=\"ap-southeast-1\"}) by (shard_name) ",
                "hide": false,
                "interval": "60",
                "legendFormat": "netstat_tcp_last_ack.{{ shard_name }}",
                "refId": "J"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "TCP Connections",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "System Metrics",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 7
        },
        "id": 82,
        "maxDataPoints": 1360,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 31
            },
            "hiddenSeries": false,
            "id": 83,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [
              {
                "url": "/"
              }
            ],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeatDirection": "h",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "5*sum(knol.bifrost.client.ingestion.http.count_value{application = \"knol-bifrost-core\" , env = \"$env\", handler =~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\"}) by (handler)",
                "expression": "",
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "{{ handler }}",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "exemplar": true,
                "expr": "5*sum(knol.bifrost.client.ingestion.http.count_value{application = \"knol-bifrost-core\" , env = \"$env\", handler =~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\"})",
                "hide": true,
                "interval": "60",
                "legendFormat": "total_v2_request",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "5*sum(knol.bifrost.client.ingestion.http.count_value{application = \"knol-bifrost-core\", env = \"$env\", handler =~ \"handlers.IdentifyHandler\" or handler =~ \"handlers.CommonHandler\" or handler =~ \"handlers.HeartbeatHandler\" or handler =~ \"handlers.EventsHandler\"})\n",
                "hide": true,
                "interval": "60",
                "legendFormat": "total_v2_request-",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "V2 Endpoint requests",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      100000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "V2 - Endpoint Response TIme alert in ${application}",
              "name": "V2 - Endpoint Response TIme alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "USh2MbP4k"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Round Trip time for HTTP Request for endpoint",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 31
            },
            "hiddenSeries": false,
            "id": 84,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "avg",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeatDirection": "h",
            "seriesOverrides": [
              {
                "alias": "knol.bifrost.client.ingestion.http.time.upper",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": true,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.client.ingestion.http.time_99_percentile{application = \"knol-bifrost-core\" , env = \"$env\", handler =~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" })by(handler)",
                "expression": "",
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.client.ingestion.http.time_95_percentile{application = \"knol-bifrost-core\" , env = \"$env\", handler =~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" })by(handler)",
                "expression": "",
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "{{ handler }}.p95",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "B",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.client.ingestion.http.time_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\", handler =~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" })by(handler)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }}.p90",
                "refId": "C"
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\", handler =~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" })by(handler)",
                "expression": "",
                "hide": true,
                "id": "",
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "D",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 100000000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "V2 - Endpoint Response TIme",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "decimals": null,
                "format": "ns",
                "label": "",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      200
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "1h",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "sum"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "3h",
              "frequency": "1h",
              "handler": 1,
              "message": "Event Name Error on V2 Handler in ${application}, enable debug logs to figure out the event name causing this",
              "name": "V2 Handler Event Name Error",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "000000005"
                },
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 41
            },
            "hiddenSeries": false,
            "id": 61,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.v2.handler.error_value{application = \"knol-bifrost-core\" , env =~\"load\", error!~\"missing_jwt_token|expired_jwt_token\"}) by (handler , error , code )",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ handler }} { {{ code }} : {{ error }} }",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.v2.handler.error_value{application = \"knol-bifrost-core\" , env =\"$env\"}) by (handler , error , code )",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }} { {{ code }} : {{ error }} }",
                "refId": "B"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 200,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "V2 API Errors",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      9999999990
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "Binder Response Time alert in ${application}",
              "name": "Binder Response Time alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 41
            },
            "hiddenSeries": false,
            "id": 74,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.resolver.ingestion.http.time_90_percentile{application = \"knol-bifrost-core\" , env =~\"load\"})",
                "interval": "60",
                "legendFormat": "knol.bifrost.resolver.ingestion.http.time.p90",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.resolver.ingestion.http.time_95_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.resolver.ingestion.http.time.p95",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.resolver.ingestion.http.time_99_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.resolver.ingestion.http.time.p99",
                "refId": "C"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 9999999990,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "GQL - Endpoint Response TIme",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      100
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "1m",
              "handler": 1,
              "message": "GQL Query Error Metrics alert in ${application}",
              "name": "GQL Query Error Metrics alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 51
            },
            "hiddenSeries": false,
            "id": 86,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.gql.query.error_value{application = \"knol-bifrost-core\" , env =~\"load\"}) by (query , error )",
                "interval": "60",
                "legendFormat": "{{ query }}.{{ error }}",
                "refId": "A"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 100,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "GQL Query Error Metrics",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 51
            },
            "hiddenSeries": false,
            "id": 173,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.total_gql_calls_value{application = \"knol-bifrost-core\" , env =~\"load\"}) by (binder)",
                "interval": "60",
                "legendFormat": "{{binder}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "GQL Total Calls",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 60
            },
            "hiddenSeries": false,
            "id": 171,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.proxy.state.error_value{application = \"knol-bifrost-core\" , env =~\"prod|load\"}) by (binder , error )",
                "interval": "60",
                "legendFormat": "{{ binder }}.{{ error }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "GQL Query Error Metrics",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 60
            },
            "hiddenSeries": false,
            "id": 106,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.binder.discovery.get_lpv.time_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "interval": "60",
                "legendFormat": "knol.bifrost.binder.discovery.get_lpv.time.p90",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.binder.experiment.get_group_ids.time_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.binder.experiment.get_group_ids.time.p90",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.binder.subs.user_subscription.time_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.binder.subs.user_subscription.time.p90",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Binder Response Time",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "It will return the number of requests for which dwhid and dwpid are created by sha256 of hid and pid respectively instead of directly event payload ",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 69
            },
            "hiddenSeries": false,
            "id": 174,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.bifrost.fallback.header.DwhId_value{application=\"knol-bifrost-core\" , env = \"$env\"})",
                "interval": "60",
                "legendFormat": "DwhId",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.bifrost.fallback.header.DwpId_value{application=\"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "DwpId",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Fallback counts of dwId",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "cacheTimeout": null,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 69
            },
            "hiddenSeries": false,
            "id": 172,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.proxy.state.success_value{application = \"knol-bifrost-core\" , env =~\"prod|load\"}) by (binder )",
                "interval": "60",
                "legendFormat": "{{ binder }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "GQL Query Success Metrics",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "V2 events Metrics",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 8
        },
        "id": 80,
        "maxDataPoints": 1360,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 11,
              "w": 13,
              "x": 0,
              "y": 9
            },
            "hiddenSeries": false,
            "id": 53,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "hideEmpty": true,
              "hideZero": true,
              "max": true,
              "min": false,
              "show": true,
              "sort": "total",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.error_value{env=\"$env\",application=\"knol-bifrost-core\"}) by (topic,error,brokerName)",
                "instant": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.{{ topic }}.{{ error }}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Kafka Produce Failures-Topic Wise",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "reqps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      50000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "10m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "3m",
              "handler": 1,
              "message": "Bifrost Kafka Produce Failures alert in ${application}",
              "name": "Kafka Produce Failuers alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 11,
              "w": 11,
              "x": 13,
              "y": 9
            },
            "hiddenSeries": false,
            "id": 69,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.produce.failed_value{env=~\"load\",application=\"knol-bifrost-core\"}) by (brokerName)",
                "interval": "60",
                "legendFormat": "{{brokerName}}",
                "refId": "A"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 50000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Kafka Produce Failuers",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Time taken for kafka to call produce",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 8,
              "x": 0,
              "y": 20
            },
            "hiddenSeries": false,
            "id": 15,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.kafka.produce.time_upper{env=\"$env\",application=\"knol-bifrost-core\",brokerName!=\"core_cc\"})",
                "interval": "60",
                "legendFormat": "self_managed.knol.bifrost.kafka.produce.time_upper",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.kafka.produce.time_mean{env=\"$env\", brokerName!=\"core_cc\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "self_managed.knol.bifrost.kafka.produce.time_mean",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.kafka.produce.time_upper{env=\"$env\",application=\"knol-bifrost-core\",brokerName=\"core_cc\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "core_cc.knol.bifrost.kafka.produce.time_upper",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.kafka.produce.time_mean{env=\"$env\",brokerName=\"core_cc\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "core_cc.knol.bifrost.kafka.produce.time_mean",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Kafka Produce Time",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "s",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      500000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "C",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      500000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "D",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "1m",
              "handler": 1,
              "message": "Kafka DLQ alert in ${application}",
              "name": "Kafka DLQ  alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "when produce attempts to DLQ topic",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 8,
              "x": 8,
              "y": 20
            },
            "hiddenSeries": false,
            "id": 63,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": false,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.produce.attempted_value{env=\"$env\",application=\"knol-bifrost-core\", topic=\"load.knol.dlq\"})by(topic,brokerName)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.{{topic}}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.produce.attempted_value{env=\"$env\",application=\"knol-bifrost-core\", topic=\"load.v2.knol.dlq\"})by(topic,brokerName)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.{{topic}}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.produce.attempted_value{env=~\"load\",application=\"knol-bifrost-core\", topic=\"load.knol.dlq\"})by(topic)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{topic}}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.produce.attempted_value{env=~\"load\",application=\"knol-bifrost-core\", topic=\"load.v2.knol.dlq\"})by(topic)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{topic}}",
                "refId": "D"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 500000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Kafka DLQ ",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      10000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "F",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      10000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "G",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      10000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "E",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "1m",
              "handler": 1,
              "message": "Kafka Produce Rate alert in ${application}",
              "name": "Kafka Produce Rate alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Indicates Success vs Error rate for Producing to Kafka",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 8,
              "x": 16,
              "y": 20
            },
            "hiddenSeries": false,
            "id": 8,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.produce.attempted_value{env=\"$env\",application=\"knol-bifrost-core\", region=\"ap-southeast-1\"}) by (shard_name,brokerName)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.attempted.sum.{{ shard_name }}",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.unkown_topic.error_value{env=\"$env\",application=\"knol-bifrost-core\", region=\"ap-southeast-1\"}) by (shard_name,brokerName)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.unknown_topic.error.{{ shard_name }}",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.error_value{env=\"$env\",application=\"knol-bifrost-core\", region=\"ap-southeast-1\"})by(error,shard_name,brokerName)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.{{ error }}.{{ shard_name }}",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.queue_full.error_value{env=\"$env\",application=\"knol-bifrost-core\", region=\"ap-southeast-1\"}) by (shard_name,brokerName)",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{brokerName}}.queue_full_error.{{ shard_name }}",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.queue_full.error_value{env=~\"load\",application=\"knol-bifrost-core\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"}) by (shard_name)",
                "hide": true,
                "interval": "60",
                "legendFormat": "queue_full_error.{{ shard_name }}",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.error_value{env=~\"load\",application=\"knol-bifrost-core\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"}) by (error,shard_name)",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{ error }}.{{ shard_name }}",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.kafka.produce.unkown_topic.error_value{env=~\"load\",application=\"knol-bifrost-core\",region=~\"ap-southeast-1|us-east-1|ap-south-1|eu-west-1\"}) by (shard_name)",
                "hide": true,
                "interval": "60",
                "legendFormat": "unknown_topic.error.{{ shard_name }}",
                "refId": "E"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 10000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Kafka Produce Rate",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "reqps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "Kafka Metrics",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 9
        },
        "id": 76,
        "maxDataPoints": 1360,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 4,
            "interval": "60",
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": true,
              "max": true,
              "min": true,
              "rightSide": false,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [
              {
                "url": "/"
              }
            ],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeat": null,
            "repeatDirection": "h",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.client.ingestion.http.count_value{application = \"knol-bifrost-core\" , env = \"$env\", handler != \"handlers.IdentifyHandler\" , handler != 'handlers.CommonHandler' , handler != 'handlers.HeartbeatHandler' , handler != 'handlers.EventsHandler'}) by (handler)",
                "expression": "",
                "id": "",
                "interval": "60",
                "legendFormat": "{{ handler }}",
                "matchExact": true,
                "maxDataPoints": 1360,
                "metricName": "",
                "namespace": "",
                "period": "",
                "refId": "A",
                "region": "default",
                "statistics": [
                  "Average"
                ]
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.client.ingestion.http.count_value{application = \"knol-bifrost-core\" , env = \"$env\", handler != \"handlers.IdentifyHandler\" , handler != 'handlers.CommonHandler' , handler != 'handlers.HeartbeatHandler' , handler != 'handlers.EventsHandler'})",
                "hide": true,
                "interval": "60",
                "legendFormat": "total_v1_request",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "V1 Endpoint requests",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "reqps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      100000000
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "B",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "10m",
              "frequency": "5m",
              "handler": 1,
              "message": "Bifrost API V1 APIs  latency increased in ${application}",
              "name": "V1 - Endpoint Response TIme alert",
              "noDataState": "no_data",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Round Trip time for HTTP Request for endpoint",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 10
            },
            "hiddenSeries": false,
            "id": 22,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "repeatDirection": "h",
            "seriesOverrides": [
              {
                "alias": "knol.bifrost.client.ingestion.http.time.upper",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "knol.bifrost.client.ingestion.http.time_99_percentile{application=~\"knol-bifrost-core\" , env=~\"load\", handler !~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" }",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{ handler }}.p99",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "knol.bifrost.client.ingestion.http.time_95_percentile{application = \"knol-bifrost-core\" , env = \"$env\", handler !~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" }",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{  handler }}.p95",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "knol.bifrost.client.ingestion.http.time_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\", handler !~ \"handlers.(IdentifyHandler|CommonHandler|HeartbeatHandler|EventsHandler)\" }",
                "hide": false,
                "interval": "60",
                "legendFormat": "{{  handler }}.p90",
                "refId": "C"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 100000000,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "V1 - Endpoint Response TIme",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "decimals": null,
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "decimals": null,
                "format": "ns",
                "label": "",
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Batch API Payload Size",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 8,
              "x": 0,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 27,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.handler.batch.ingestion.size_mean{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "interval": "60",
                "legendFormat": "knol.bifrost.handler.batch.ingestion.size_mean",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.handler.batch.ingestion.size_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.handler.batch.ingestion.size_90_percentile",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.handler.batch.ingestion.size_upper{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.handler.batch.ingestion.size_90_percentile",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Batch API Payload Size",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "bytes",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 10,
              "x": 8,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 19,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.handler.batch.ingestion.identify_value{application = \"knol-bifrost-core\" , env = \"$env\"})/10",
                "interval": "60",
                "legendFormat": "identify",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.handler.batch.ingestion.track_value{application = \"knol-bifrost-core\" , env = \"$env\"})/10 ",
                "hide": false,
                "interval": "60",
                "legendFormat": "track",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.handler.batch.ingestion.unknown_value{application = \"knol-bifrost-core\" , env = \"$env\"})/10 ",
                "hide": false,
                "interval": "60",
                "legendFormat": "unknown",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.handler.batch.ingestion.error{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "error",
                "refId": "D"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Batch API Produce Rate (Track/identify/Unknown)",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Batch ingestion count Max",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 10,
              "w": 6,
              "x": 18,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 31,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.handler.batch.ingestion.count_mean{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "interval": "60",
                "legendFormat": "knol.bifrost.handler.batch.ingestion.count.mean",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.handler.batch.ingestion.count_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.handler.batch.ingestion.count.p99",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.handler.batch.ingestion.count_upper{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "knol.bifrost.handler.batch.ingestion.count.max",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Batch ingestion count",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 13,
              "w": 8,
              "x": 0,
              "y": 29
            },
            "hiddenSeries": false,
            "id": 16,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.api.middleware.readBody.error_value{application = \"knol-bifrost-core\" , env = \"$env\"})/10",
                "interval": "60",
                "legendFormat": "api.middleware.readBody.error_value",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.api.middleware.gzip.error_value{application = \"knol-bifrost-core\" , env = \"$env\"})/10",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.gzip.error_value",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.api.middleware.segmentAuth.error_value{application = \"knol-bifrost-core\" , env = \"$env\"})/10",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.segmentAuth.error_value",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Bifrost Middleware error rate",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "reqps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 7,
              "w": 10,
              "x": 8,
              "y": 29
            },
            "hiddenSeries": false,
            "id": 72,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "sort": "current",
              "sortDesc": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 2,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.heartbeat.requests.invalid_value{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "interval": "60",
                "legendFormat": "heartbeat.requests.invalid.sum",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "sum(knol.bifrost.heartbeat.requests.success_value{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "heartbeat.requests.success.sum",
                "refId": "B"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Heartbeat Request -Success/Invalid",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": null,
            "description": "Count of payload sizes above  bytes",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 7,
              "w": 6,
              "x": 18,
              "y": 29
            },
            "id": 29,
            "interval": "60",
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(knol.bifrost.handler.batch.ingestion.size_upper{ application = \"knol-bifrost-core\" , env = \"$env\" } > $payloadSizeList )",
                "interval": "60",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "Count of payload sizes above $payloadSizeList bytes",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "Bifrost Middleware Success Time",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 0,
            "fillGradient": 0,
            "gridPos": {
              "h": 6,
              "w": 10,
              "x": 8,
              "y": 36
            },
            "hiddenSeries": false,
            "id": 18,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": false,
              "max": true,
              "min": true,
              "show": true,
              "sort": "max",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [
              {
                "alias": "api.middleware.gzip.success.max",
                "yaxis": 2
              },
              {
                "alias": "api.middleware.readBody.success.max",
                "yaxis": 2
              }
            ],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(rate(knol.bifrost.api.middleware.gzip.success_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"}))",
                "interval": "60",
                "legendFormat": "api.middleware.gzip.success_90_percentile",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(rate(knol.bifrost.api.middleware.gzip.success_95_percentile{application = \"knol-bifrost-core\" , env = \"$env\"}))",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.gzip.success_95_percentile",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(rate(knol.bifrost.api.middleware.gzip.success_99_percentile{application = \"knol-bifrost-core\" , env = \"$env\"}))",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.gzip.success_99_percentile",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(rate(knol.bifrost.api.middleware.readBody.success_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"}))",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.readBody.success_90_percentile",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "avg(rate(knol.bifrost.api.middleware.readBody.success_95_percentile{application = \"knol-bifrost-core\" , env = \"$env\"}))",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.readBody.success_95_percentile",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "avg(rate(knol.bifrost.api.middleware.readBody.success_99_percentile{application = \"knol-bifrost-core\" , env = \"$env\"}))",
                "hide": false,
                "interval": "60",
                "legendFormat": "api.middleware.readBody.success_99_percentile",
                "refId": "F"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Bifrost Middleware Success Time",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ms",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "ms",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "cacheTimeout": null,
            "colorBackground": false,
            "colorValue": false,
            "colors": [
              "#299c46",
              "rgba(237, 129, 40, 0.89)",
              "#d44a3a"
            ],
            "datasource": null,
            "description": "Count of payloads in batch > payloadSizeList/1000",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "format": "none",
            "gauge": {
              "maxValue": 100,
              "minValue": 0,
              "show": false,
              "thresholdLabels": false,
              "thresholdMarkers": true
            },
            "gridPos": {
              "h": 6,
              "w": 6,
              "x": 18,
              "y": 36
            },
            "id": 33,
            "interval": "60",
            "links": [],
            "mappingType": 1,
            "mappingTypes": [
              {
                "name": "value to text",
                "value": 1
              },
              {
                "name": "range to text",
                "value": 2
              }
            ],
            "maxDataPoints": 100,
            "nullPointMode": "connected",
            "nullText": null,
            "postfix": "",
            "postfixFontSize": "50%",
            "prefix": "",
            "prefixFontSize": "50%",
            "rangeMaps": [
              {
                "from": "null",
                "text": "N/A",
                "to": "null"
              }
            ],
            "sparkline": {
              "fillColor": "rgba(31, 118, 189, 0.18)",
              "full": false,
              "lineColor": "rgb(31, 120, 193)",
              "show": false
            },
            "tableColumn": "",
            "targets": [
              {
                "exemplar": true,
                "expr": "count(knol.bifrost.handler.batch.ingestion.size_upper{ application = \"knol-bifrost-core\" , env = \"$env\" } > ($payloadSizeList/1000) )",
                "interval": "60",
                "legendFormat": "",
                "refId": "A"
              }
            ],
            "thresholds": "",
            "title": "Count of payloads in batch > $payloadSizeList",
            "type": "singlestat",
            "valueFontSize": "80%",
            "valueMaps": [
              {
                "op": "=",
                "text": "N/A",
                "value": "null"
              }
            ],
            "valueName": "avg"
          }
        ],
        "title": "V1 Events Metrics",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 10
        },
        "id": 91,
        "maxDataPoints": 1360,
        "panels": [
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 11
            },
            "hiddenSeries": false,
            "id": 101,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.produce.attempts_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "hide": false,
                "interval": "60",
                "legendFormat": "PRODUCE.attempts",
                "refId": "G"
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.core.attempts_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "id": "",
                "interval": "60",
                "legendFormat": "CORE.attempts",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.attempts\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "A",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.core_cc.attempts_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "CORE_CC.attempts",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.attempts\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "K",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.hb.attempts_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.attempts",
                "refId": "F"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.ct.attempts_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.attempts",
                "refId": "E"
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.gql.attempts_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "id": "",
                "interval": "60",
                "legendFormat": "GQL.attempts",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.gql.attempts\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "C",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.produce.successes_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "PRODUCE.successes",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.gql.successes\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "J",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.core.successes_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "id": "",
                "interval": "60",
                "legendFormat": "CORE.successes",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.successes\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "B",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.core_cc.successes_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "CORE_CC.successes",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.gql.successes\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "L",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.ct.successes_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "CT.successes",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.successes\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "H",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.hb.successes_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "HB.successes",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.successes\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "I",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.gql.successes_value{application = \"knol-bifrost-core\" , env = \"$env\"}[5m]))\n",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "id": "",
                "interval": "60",
                "legendFormat": "GQL.successes",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.attempts",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.gql.successes\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "D",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Produce rate",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "reqps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      100
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "D",
                      "1m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      100
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "C",
                      "1m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      100
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "G",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                },
                {
                  "evaluator": {
                    "params": [
                      100
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "or"
                  },
                  "query": {
                    "params": [
                      "H",
                      "5m",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "avg"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "alerting",
              "for": "5m",
              "frequency": "1m",
              "handler": 1,
              "message": "Error rate alert in ${application}",
              "name": "Error rate alert",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 11
            },
            "hiddenSeries": false,
            "id": 95,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "show": true,
              "total": true,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "irate(sum(knol.bifrost.hystrix.core.errors_value{application = \"knol-bifrost-core\" , env = \"$env\"})[1m])",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "id": "",
                "interval": "60",
                "legendFormat": "CORE",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "A",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "irate(sum(knol.bifrost.hystrix.core_cc.errors_value{application = \"knol-bifrost-core\" , env = \"$env\"})[1m])",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "CORE_CC",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "I",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "irate(sum(knol.bifrost.hystrix.ct.errors_value{application = \"knol-bifrost-core\" , env = \"$env\"})[1m])",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "CT",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "F",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "irate(sum(knol.bifrost.hystrix.hb.errors_value{application = \"knol-bifrost-core\" , env = \"$env\"})[1m])",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "HB",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "E",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "irate(sum(knol.bifrost.hystrix.gql.errors_value{application = \"knol-bifrost-core\" , env = \"$env\"})[1m])",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": false,
                "id": "",
                "interval": "60",
                "legendFormat": "GQL",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "B",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.hystrix.core.errors_value{application = \"knol-bifrost-core\" , env =~\"load\"})",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": true,
                "id": "",
                "interval": "60",
                "legendFormat": "CORE",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "D",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.hystrix.hb.errors_value{application = \"knol-bifrost-core\" , env=~\"load\"})",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": true,
                "id": "",
                "interval": "60",
                "legendFormat": "HB",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "G",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.hystrix.ct.errors_value{application = \"knol-bifrost-core\" , env =~\"load\"})",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": true,
                "id": "",
                "interval": "60",
                "legendFormat": "CT",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "H",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              },
              {
                "alias": "",
                "dimensions": {},
                "exemplar": true,
                "expr": "sum(knol.bifrost.hystrix.gql.errors_value{application = \"knol-bifrost-core\" , env=~\"load\"})",
                "expression": "",
                "groupBy": [
                  {
                    "params": [
                      "$__interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "hide": true,
                "id": "",
                "interval": "60",
                "legendFormat": "GQL",
                "matchExact": true,
                "maxDataPoints": 1360,
                "measurement": "knol.bifrost.hystrix.produce.errors",
                "metricName": "",
                "namespace": "",
                "orderByTime": "ASC",
                "period": "",
                "policy": "default",
                "query": "SELECT sum(\"value\")*1000/$__interval_ms FROM \"knol.bifrost.hystrix.produce.errors\" WHERE $timeFilter GROUP BY time($__interval) fill(null)",
                "rawQuery": true,
                "refId": "C",
                "region": "default",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "sum"
                    }
                  ]
                ],
                "statistics": [
                  "Average"
                ],
                "tags": []
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 100,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Error rate",
            "tooltip": {
              "shared": true,
              "sort": 0,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "rps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 98,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": false,
              "min": false,
              "rightSide": false,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "connected",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.core.runDuration_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "interval": "60",
                "legendFormat": "CORE.runDuration.p90",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.hb.runDuration_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.runDuration.p90",
                "refId": "I"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.ct.runDuration_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.runDuration.p90",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.gql.runDuration_90_percentile{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "GQL.runDuration.p90",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.core.runDuration_mean{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE.runDuration.mean",
                "refId": "C"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.hb.runDuration_mean{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.runDuration.mean",
                "refId": "L"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.ct.runDuration_mean{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.runDuration.mean",
                "refId": "K"
              },
              {
                "exemplar": true,
                "expr": "avg(knol.bifrost.hystrix.gql.runDuration_mean{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "GQL.runDuration.mean",
                "refId": "D"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.hystrix.core.runDuration_upper{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CORE.runDuration.max",
                "refId": "E"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.hystrix.hb.runDuration_upper{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB.runDuration.max",
                "refId": "H"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.hystrix.ct.runDuration_upper{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT.runDuration.max",
                "refId": "J"
              },
              {
                "exemplar": true,
                "expr": "max(knol.bifrost.hystrix.gql.runDuration_upper{application = \"knol-bifrost-core\" , env = \"$env\"})",
                "hide": false,
                "interval": "60",
                "legendFormat": "GQL.runDuration.max",
                "refId": "F"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Run Duration",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ms",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 19
            },
            "hiddenSeries": false,
            "id": 99,
            "legend": {
              "alignAsTable": true,
              "avg": true,
              "current": true,
              "max": true,
              "min": true,
              "show": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null as zero",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.core.fallbackSuccesses_value{application = \"knol-bifrost-core\" , env = \"$env\"}[1m]))",
                "interval": "60",
                "legendFormat": "CORE",
                "refId": "A"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.hb.fallbackSuccesses_value{application = \"knol-bifrost-core\" , env = \"$env\"}[1m]))",
                "hide": false,
                "interval": "60",
                "legendFormat": "HB",
                "refId": "B"
              },
              {
                "exemplar": true,
                "expr": "avg(irate(knol.bifrost.hystrix.ct.fallbackSuccesses_value{application = \"knol-bifrost-core\" , env = \"$env\"}[1m]))",
                "hide": false,
                "interval": "60",
                "legendFormat": "CT",
                "refId": "C"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Fallback produce rate",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "reqps",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "Hystrix Metrics",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": null,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 11
        },
        "id": 169,
        "maxDataPoints": 1360,
        "panels": [
          {
            "alert": {
              "alertRuleTags": {},
              "conditions": [
                {
                  "evaluator": {
                    "params": [
                      0
                    ],
                    "type": "gt"
                  },
                  "operator": {
                    "type": "and"
                  },
                  "query": {
                    "params": [
                      "A",
                      "1h",
                      "now"
                    ]
                  },
                  "reducer": {
                    "params": [],
                    "type": "max"
                  },
                  "type": "query"
                }
              ],
              "executionErrorState": "keep_state",
              "for": "5m",
              "frequency": "2m",
              "handler": 1,
              "message": "APSE Bifrost Kafka Config Source is not primary backend. This may result in decreased Kafka Producer throughput if source = 2. If source =1 , then investigate issues with primary data-verse-backend. \nNOTE : If no new hosts are coming up, this metric will show no data. Hence, no data means an okay state. This alert stays active till 1 hour if a particular host was created with config source!=0 and auto resolves post that. Even if this auto resolves, oncall should investigate and rotate hosts with fallback configs.",
              "name": "Bifrost Kafka Config Source",
              "noDataState": "ok",
              "notifications": [
                {
                  "uid": "zd_WG-ynk"
                },
                {
                  "uid": "SjzmHJ2Ik"
                },
                {
                  "uid": "USh2MbP4k"
                },
                {
                  "uid": "jJ5i0XQ4z"
                }
              ]
            },
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "2 = Fallback configs, 1 = Secondary Backend, 0 = Primary Backend, no data means no new hosts are coming up. If fall back configs are used, kafka producer throughput may be impacted.",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 12
            },
            "hiddenSeries": false,
            "id": 167,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "show": true,
              "sort": "max",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "knol.bifrost.kafka_sdk.config_source_value{application = \"knol-bifrost-core\" , env = \"$env\"}",
                "hide": false,
                "instant": false,
                "interval": "60",
                "legendFormat": "{{shard_name}}.{{privateIp}}",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "knol.bifrost.kafka_sdk.config_source_value{application = \"knol-bifrost-core\" , env = \"load\", region=\"ap-southeast-1\"}",
                "hide": true,
                "interval": "60",
                "legendFormat": "{{shard_name}}.{{privateIp}}",
                "refId": "A"
              }
            ],
            "thresholds": [
              {
                "colorMode": "critical",
                "fill": true,
                "line": true,
                "op": "gt",
                "value": 0,
                "visible": true
              }
            ],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "Config Source",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          },
          {
            "aliasColors": {},
            "bars": false,
            "dashLength": 10,
            "dashes": false,
            "datasource": null,
            "description": "api_get_config_time = Time spent in API call\ntotal_get_config_time = Time spent in SDK GetConfigs method\n",
            "fieldConfig": {
              "defaults": {},
              "overrides": []
            },
            "fill": 1,
            "fillGradient": 0,
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 12
            },
            "hiddenSeries": false,
            "id": 170,
            "legend": {
              "alignAsTable": true,
              "avg": false,
              "current": false,
              "max": true,
              "min": false,
              "show": true,
              "sort": "max",
              "sortDesc": true,
              "total": false,
              "values": true
            },
            "lines": true,
            "linewidth": 1,
            "links": [],
            "maxDataPoints": 1360,
            "nullPointMode": "null",
            "options": {
              "alertThreshold": true
            },
            "percentage": false,
            "pluginVersion": "7.5.17",
            "pointradius": 5,
            "points": false,
            "renderer": "flot",
            "seriesOverrides": [],
            "spaceLength": 10,
            "stack": false,
            "steppedLine": false,
            "targets": [
              {
                "exemplar": true,
                "expr": "knol.bifrost.kafka_sdk.api_get_config_time_value{application = \"knol-bifrost-core\" , env = \"$env\"}",
                "hide": false,
                "instant": false,
                "interval": "60",
                "legendFormat": "api_get_config_time.{{privateIp}}",
                "refId": "G"
              },
              {
                "exemplar": true,
                "expr": "knol.bifrost.kafka_sdk.total_get_config_time_value{application = \"knol-bifrost-core\" , env = \"$env\"}",
                "hide": false,
                "instant": false,
                "interval": "60",
                "legendFormat": "total_get_config_time.{{privateIp}}",
                "refId": "A"
              }
            ],
            "thresholds": [],
            "timeFrom": null,
            "timeRegions": [],
            "timeShift": null,
            "title": "SDK Latency",
            "tooltip": {
              "shared": true,
              "sort": 2,
              "value_type": "individual"
            },
            "type": "graph",
            "xaxis": {
              "buckets": null,
              "mode": "time",
              "name": null,
              "show": true,
              "values": []
            },
            "yaxes": [
              {
                "format": "ns",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": true
              },
              {
                "format": "short",
                "label": null,
                "logBase": 1,
                "max": null,
                "min": null,
                "show": false
              }
            ],
            "yaxis": {
              "align": false,
              "alignLevel": null
            }
          }
        ],
        "title": "Message Bus SDK Metrics",
        "type": "row"
      }
    ],
    "refresh": "",
    "schemaVersion": 27,
    "style": "dark",
    "tags": [],
    "templating": {
      "list": [
        {
          "allValue": null,
          "current": {
            "selected": false,
            "text": "100000",
            "value": "100000"
          },
          "description": null,
          "error": null,
          "hide": 2,
          "includeAll": false,
          "label": null,
          "multi": false,
          "name": "payloadSizeList",
          "options": [
            {
              "selected": false,
              "text": "1000",
              "value": "1000"
            },
            {
              "selected": false,
              "text": "50000",
              "value": "50000"
            },
            {
              "selected": true,
              "text": "100000",
              "value": "100000"
            },
            {
              "selected": false,
              "text": "150000",
              "value": "150000"
            },
            {
              "selected": false,
              "text": "200000",
              "value": "200000"
            },
            {
              "selected": false,
              "text": "250000",
              "value": "250000"
            },
            {
              "selected": false,
              "text": "300000",
              "value": "300000"
            },
            {
              "selected": false,
              "text": "350000",
              "value": "350000"
            },
            {
              "selected": false,
              "text": "400000",
              "value": "400000"
            },
            {
              "selected": false,
              "text": "450000",
              "value": "450000"
            },
            {
              "selected": false,
              "text": "500000",
              "value": "500000"
            }
          ],
          "query": "1000,50000,100000,150000,200000,250000,300000,350000,400000,450000,500000",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "allValue": null,
          "current": {
            "selected": false,
            "text": "load",
            "value": "load"
          },
          "datasource": null,
          "definition": "label_values(knol.bifrost.produce.attempted_value,env)",
          "description": null,
          "error": null,
          "hide": 0,
          "includeAll": false,
          "label": "env",
          "multi": false,
          "name": "env",
          "options": [],
          "query": {
            "query": "label_values(knol.bifrost.produce.attempted_value,env)",
            "refId": "StandardVariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "tagValuesQuery": "",
          "tags": [],
          "tagsQuery": "",
          "type": "query",
          "useTags": false
        }
      ]
    },
    "time": {
      "from": "now-15m",
      "to": "now"
    },
    "timepicker": {
      "refresh_intervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d"
      ],
      "time_options": [
        "5m",
        "15m",
        "1h",
        "6h",
        "12h",
        "24h",
        "2d",
        "7d",
        "30d"
      ]
    },
    "timezone": "",
    "title": "Endpoint Performance - PP",
    "uid": "3tDMBxvNz",
    "version": 1
  },
  "folderUid": "c2ab6eb8-5670-49a2-a829-76201c7e16bf",
  "overwrite": true
}
